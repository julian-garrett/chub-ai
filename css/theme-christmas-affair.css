@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap');
@import url('https://cdn.jsdelivr.net/gh/julian-garrett/chub-ai/css/base-improved.css');

/* ============================================
   THEME: CHRISTMAS AFFAIR - Рождественская интрига
   
   Светлая праздничная тема с золотом и красным
   Уютное рождество + легкий холодок корпоративной драмы
   Вдохновлено: рождественские открытки 50-х, Mad Men, офисные романы
   ============================================ */

:root {
  /* ========== РОЖДЕСТВЕНСКАЯ ПАЛИТРА ========== */
  --color-primary: #8b2635;              /* Глубокий рождественский красный */
  --color-secondary: #d4af37;            /* Золото (подарки, украшения) */
  --color-background: #faf8f3;           /* Теплый кремовый (снег, бумага) */
  
  /* Текст */
  --color-text-base: #2d1f1f;           /* Темно-коричневый (читаемый) */
  --color-text-muted: #5c4a4a;          /* Приглушенный коричневый */
  --color-text-accent: #8b2635;         /* Красный акцент */
  --color-text-on-primary: #faf8f3;     /* Светлый на красном */
  --color-text-on-secondary: #2d1f1f;   /* Темный на золоте */
  
  /* Акценты */
  --color-border: rgba(139, 38, 53, 0.3);
  --color-hover: #a83545;
  
  /* ========== ФОНЫ ЭЛЕМЕНТОВ ========== */
  --bg-h1: linear-gradient(135deg, #8b2635 0%, #a83545 100%);
  --bg-h2: transparent;
  --bg-h3: rgba(212, 175, 55, 0.15);
  --bg-h4: rgba(139, 38, 53, 0.08);
  --bg-h5: rgba(212, 175, 55, 0.1);
  --bg-h6: rgba(139, 38, 53, 0.05);
  --bg-code: #f5f0e8;
  --bg-quote: rgba(212, 175, 55, 0.12);
  --bg-table: #f5f0e8;
  --bg-table-header: rgba(212, 175, 55, 0.25);
  --bg-button: #faf8f3;
  --bg-button-hover: #d4af37;
  
  /* ========== ШРИФТЫ ========== */
  --font-primary: 'Lora', 'PT Serif', Georgia, serif;
  --font-heading: 'Lora', 'PT Serif', Georgia, serif;
  --font-h1: 'Playfair Display', serif;     /* Элегантный для заголовков */
  --font-mono: 'Courier New', monospace;
  
  /* ========== ЭФФЕКТЫ ========== */
  
  /* Анимации - легкое мерцание */
  --animation-h1: none;
  --animation-h1-duration: 3s;
  --animation-em: none;
  --animation-em-duration: 2s;
  
  /* Псевдоэлементы */
  --h1-before-content: none;
  --h1-before-position: absolute;
  --h1-before-display: none;
  
  --quote-before-content: '❄';          /* Снежинка для цитат */
  --quote-before-display: block;
  --quote-before-position: absolute;
  
  /* Свечение - мягкое золотое */
  --glow-h1: 0 4px 15px rgba(212, 175, 55, 0.4);
  --glow-strong: 0 0 8px rgba(139, 38, 53, 0.3);
  --glow-link: none;
  --glow-card: 0 4px 12px rgba(139, 38, 53, 0.2);
  
  /* Тени для карточек */
  --card-shadow-extra: 0 6px 20px rgba(139, 38, 53, 0.15);
  --card-hover-shadow-extra: 0 8px 25px rgba(139, 38, 53, 0.25), 0 0 30px rgba(212, 175, 55, 0.2);
  
  /* Трансформации */
  --card-hover-transform: translateY(-4px) scale(1.02);
  --card-transform: none;
  
  /* Скроллбар - золотой */
  --scrollbar-gradient: linear-gradient(180deg, #d4af37 0%, #b8941f 100%);
  --scrollbar-hover-gradient: linear-gradient(180deg, #e5c866 0%, #d4af37 100%);
  
  /* Эффекты контейнера */
  --container-glow: 0 0 40px rgba(212, 175, 55, 0.15);
  --container-inset-glow: none;
  --container-border-glow: 0 0 20px rgba(212, 175, 55, 0.2);
  
  /* Текстовые эффекты */
  --text-shadow-h1: 2px 2px 4px rgba(0, 0, 0, 0.2);
  --text-shadow-h2: none;
  --text-shadow-h3: none;
  --text-shadow-strong: 0 0 5px rgba(139, 38, 53, 0.3);
  --text-transform-h1: none;
  --letter-spacing-h1: 1px;
  
  /* Тени */
  --shadow-sm: 0 2px 8px rgba(139, 38, 53, 0.1);
  --shadow-md: 0 4px 12px rgba(139, 38, 53, 0.15);
  --shadow-lg: 0 6px 20px rgba(139, 38, 53, 0.2);
  --shadow-xl: 0 8px 30px rgba(139, 38, 53, 0.25);
  
  /* Tagline */
  --tagline-bg: rgba(250, 248, 243, 0.95);
  --tagline-color: #8b2635;
  --tagline-border: 2px solid #d4af37;
  --tagline-font-size: 1.5em;
  --tagline-max-width: 65%;
  --tagline-align: right;
  --tagline-margin: 0 0 0px auto;
  --tagline-padding: 0px 18px;
  
  /* Footer */
  --footer-bg: rgba(212, 175, 55, 0.1);
  --footer-border: 3px solid #d4af37;
  --footer-color: #5c4a4a;
  --footer-link: #8b2635;
  --footer-link-hover: #a83545;
  
  /* Скругления */
  --radius-sm: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-xl: 14px;
  --radius-pill: 25px;
}

/* ========== КАСТОМНЫЕ ЭФФЕКТЫ ========== */

/* Снежинки для цитат */
.msg-mkdn-container blockquote::before {
  left: -5px;
  top: -15px;
  font-size: 3.5em;
  color: rgba(212, 175, 55, 0.4);
  font-family: 'Arial', sans-serif;
  text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
}

/* Золотое подчеркивание для ссылок */
.msg-mkdn-container a {
  border-bottom: 2px solid transparent;
  transition: all 0.3s ease;
}

.msg-mkdn-container a:hover {
  color: #a83545;
  border-bottom-color: #d4af37;
}

/* Рождественские карточки */
.msg-mkdn-container img.scenario-card {
  border: 3px solid #d4af37;
  transition: all 0.3s ease;
  filter: brightness(1.05);
}

.msg-mkdn-container img.scenario-card:hover {
  border-color: #8b2635;
  filter: brightness(1.1);
}

/* Красный акцент для strong */
.msg-mkdn-container strong {
  color: #8b2635;
  font-weight: 700;
}

/* Золотой курсив */
.msg-mkdn-container em {
  color: #b8941f;
  font-style: italic;
}

/* Праздничные таблицы */
.msg-mkdn-container th {
  background: rgba(212, 175, 55, 0.25);
  color: #2d1f1f;
  font-weight: 700;
  border-bottom: 2px solid #d4af37;
}

/* Золотые границы для изображений */
.msg-mkdn-container img {
  border: 3px solid rgba(212, 175, 55, 0.4);
}

/* Золотой скроллбар */
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-gradient);
  border: 2px solid #faf8f3;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-hover-gradient);
}

::-webkit-scrollbar-track {
  background: rgba(212, 175, 55, 0.08);
}

/* Дополнительные рождественские акценты */
.msg-mkdn-container h1 {
  border-bottom: 3px solid #d4af37;
  padding-bottom: 15px;
}

.msg-mkdn-container h2 {
  border-bottom: 2px solid rgba(212, 175, 55, 0.5);
  padding-bottom: 8px;
  color: #8b2635;
}

.msg-mkdn-container h3 {
  border-left: 5px solid #d4af37;
  padding-left: 15px;
}

.msg-mkdn-container code {
  background: #f5f0e8;
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: #5c4a4a;
}

.msg-mkdn-container blockquote {
  border-left: 5px solid #d4af37;
  background: rgba(212, 175, 55, 0.12);
  box-shadow: 0 2px 8px rgba(139, 38, 53, 0.1);
}

/* Легкий эффект "снега" для контейнера */
.msg-mkdn-container {
  background: 
    radial-gradient(circle at 20% 30%, rgba(212, 175, 55, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(139, 38, 53, 0.03) 0%, transparent 50%),
    var(--color-background);
}

/* HR с праздничным градиентом */
.msg-mkdn-container hr {
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(212, 175, 55, 0.6) 20%, 
    #d4af37 50%, 
    rgba(212, 175, 55, 0.6) 80%, 
    transparent 100%
  );
  height: 3px;
}